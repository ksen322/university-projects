# Программа для расчета итоговой стоимости поездки
Программа разрабатывалась на языке <a href = 'https://www.python.org/downloads/release/python-390/'>Python 3.9</a> в среде разработки <a href = 'https://www.jetbrains.com/ru-ru/pycharm/'>PyCharm Community Edition 2022.2.3</a>  
## Цели и задачи
<b>Цель</b>: разработать функцию, которая дает возможность для расчета стоимости поездки в 5 выбранных городов.  

<b>Задачи</b>:  
1. разработка математической модели вычислений  
2. определение параметров, которые будет содержать функция
3. определение входных данных
4. подготовка расчетных формул

## Определение входных данных  
Для расчета полной стоимости необходимо определить данные, с помощью которых будет происходить подсчет.  
Были взяты следующие данные:
1)	определение города: Санкт-Петербург, Тунис, Анталья, Сочи и Токио
2)	определение типа поездки: эконом, комфорт и бизнес
3)	определение количества взрослых пассажиров
4)	определение количества пассажиров от 7 до 14 лет
5)	определение количества пассажиров до 7 лет
6)	определение количества ночей проживания в городе
7)	выбор транспортного средства: общественный или такси
8)	определение примерного количества поездок в день
9)	определение примерно количества походов в кафе или рестораны
10)	определение нуждаемости в дополнительном месте для ребенка до 3 лет в номере

## Модель вычисления  
За базовую формулу вычисления было взято следующее выражение: 

` total = bilet + habitation + transport + food $$  `

где <i>total</i> – итоговая стоимость поездки в город,  
<i>bilet</i> – стоимость билета до города,  
<i>habitation</i> – стоимость проживания в номере в гостинице или отеле,  
<i>transport</i> – сумма расходов на транспортные средства,  
<i>food</i> – сумма расходов на питание в кафе/ресторанах.  

Далее идем по составляющим итоговой стоимости total.  

### Стоимость билета до города  
Стоимость билета пассажиров рассчитывается по следующей формуле:  

` bilet = (people + child_7 * 0.5 + child_14 * 0.7) * cost `  

где <i>people</i> – количество взрослых пассажиров,  
<i>child_7</i> – количество пассажиров от 3 до 7 лет (переменная умножается на 0.5, т.к. берем, что за ребенка данного возраста билет будет стоить половину от стоимости для взрослого пассажира),  
<i>child_14</i> – количество пассажиров от 7 до 14 лет (переменная умножается на 0.7, т.к. берем, что за ребенка данного возраста билет будет стоить 70% от стоимости для взрослого пассажира,  
<i>cost</i> – стоимость билета для взрослого пассажира.  

Стоимость билетов высчитывалась как средняя цена билетов на авиарейс. Бралось первые 5 предложений и высчитывалось их среднее арифметическое.  

В формуле сначала подсчитывается количество людей в поездке, т.е., например, если взять ребенка от 3 до 7 лет, то 2 билета за детей данной возрастной категории будет стоить как один билет взрослого человека.  

### Стоимость проживания в отеле/гостинице  
Стоимость проживания рассчитывается по следующей формуле:  

` habitation = cost_day * amount_day + dop_cost ` 

где <i>cost_day</i> – стоимость проживания за сутки (на сайтах с бронированием пишут именно цены за сутки).  
Переменная рассчитывается следующим образом: в зависимости от того, какой человек/пара/группа выбрали номер, записывается стоимость номера в переменную и суммируется с последующим выбором. Для этого создаем цикл while, который реализован на блок-схеме, представленной ниже.  
Например, приехала семья, состоящая из 3 человек: мать, отец и ребенок, на которого требуется место, с 2 знакомыми. В данном
случае семья выбирает номер с 3 местами – стоимость записывается в переменную и суммируется с последующим выбором. Если знакомые хотят жить отдельно, то они могут снять 2 одноместных номера, если нет – снимают 1 двухместный.  
<i>amount_day</i> – количество дней проживания,  
<i>dop_cost</i> - стоимость дополнительного места для ребенка возрастом младше 3 лет. Т.к. отдельное место для детей такого возраста не всегда требуется и зачастую они проживают бесплатно, то мы добавляем эту переменную. Если все-таки нужно место, то тогда берется некоторый процент от стоимости проживания и в комнате устанавливается дополнительное спальное место (например, кровать).  

Реализация цикла while:  
![image](https://github.com/ksen322/university-projects/assets/119673458/47aa9c9c-199b-4b06-9d0b-b9ecdd82eebd)  

### Расходы на транспортное средство  
Сумма расходов на транспортное средство вычисляется по следующей формуле:  

` transport = (a * transport_cost_p + child_7 * transport_cost_7 + child_14 * transport_cost_14) * n_trips * amount_day `  

где <i>transport_cost_p</i> – стоимость проезда для взрослого человека,  
<i>transport_cost_7</i> – стоимость проезда для ребенка до 7 лет, т.к. во многих городах, как в российских, так и зарубежных действует квота для детей такого возраста,  
<i>transport_cost_14</i> – стоимость также может отличаться, но достаточно редко,  
<i>n_trips</i> – примерное количество поездок, которое пассажир/пассажиры хотят совершать за сутки.  

На выбор дается 2 транспортных средства: общественный и такси.  

### Расходы на питание  
Сумма расходов на еду вычисляется по следующей формуле:  

` food = ((people * food_cost_p + child_7 * food_cost_7 + child_14 * food_cost_14) * n_once) * amount_day `  

где <i>food_cost_p</i> – средний чек взрослого человека,  
<i>food_cost_7</i> – средний чек для ребенка возрастом до 7 лет.  
Скидок в ресторанах и кафе, как правило, нет, в редких случаях есть детское меню, но следует учитывать, что ребенок может есть не только его, а и обычное меню, которое в основном и предоставляется ресторанами и кафе. Но т.к. чисто физически ребенок такого возраста не может съедать столько же сколько потребляет взрослый человек, то берем 70% от food_cost_p,  
<i>food_cost_14</i> – средний чек для ребенка возрастом до 14 лет. Ценник такой же, что у взрослого, потому что есть возможность, что будет заказ примерно равный заказу взрослого,  
<i>n_once</i> – примерно количество раз похода пассажира/пассажиров в кафе или рестораны за сутки.  
Заведения выбирались наиболее подходящие для разных классов заведения, потом просчитывалось среднее арифметическое, и, тем самым, получалась средняя цена на кафе/рестораны для каждого из классов.  

## Подготовка данных для расчета  
Для начала было выбрано 5 городов, в которые возможно осуществить поездку. Выбрано 2 российских города: Санкт-Петербург и Сочи и 3 зарубежных: Тунис, Анталья и Токио. Если пользователь вводит иные города, то ему сообщают об этом, и ввод начинается заново.  
Следующий шаг – разделение на классы: Эконом, Комфорт и Бизнес, т.к. стоимость поездки имеет сильную зависимость от финансовых средств туриста. Если пользователь решил лететь тем классом, который не предусмотрен здесь, то об этому ему сообщается, и снова выдается поле ввода.  

Для класса «Эконом» были выбраны наиболее дешевые варианты. Большинство авиакомпаний предоставляет возможность перелета классом «Эконом», поэтому стоимость билетов брала из наиболее известных. Для проживания были выбраны отели с 3 звездами, т.к. в некоторых городах нет возможности выбрать отели с меньшим количеством звезд. Питание осуществляется в столовых, дешевых кафе и ресторанах. В пункте «Транспорт» есть выбор: либо передвигаться на общественном транспорте, либо на такси класса «Эконом».  

Передвижение на общественном транспорте для всех классов по стоимости выходит одинаково, т.к. там нет разделения на классы, например, в метро. Т.к. пользователь является туристом, т.е. остается на непродолжительный период, то карты, типа «Тройка» и т.д. не берутся в расчет. В некоторых городах такой возможности тоже не предоставляется.  
Ситуация по билетам в остальных категориях одинакова.  

Для проживания класса «Комфорт» брала комфортные, но недорогие отели (в районе 4 звезд), где соотношение цены/качества примерно одинаково. Питание планируется в недорогих кафе и ресторанах, а такси уже берется классами «Комфорт» и «Комфорт+».  

Для класса «Бизнес» выбирались уже самые дорогие варианты. Т.е. проживание осуществлялось уже в пятизвездочных отелях в номера типа «Полулюкс» или «Люкс». Питание планируется в достаточно дорогих ресторанах, такси берется класса «Бизнес» или «Премьер».  

## Разработка программы  
Разработка программы была разделена на 5 этапов:  
1)	Определение и объявлений функций bilet(), habitation(), transport(), food() и total(), что выдает общую стоимость поездки;
2)	Объявление в функции расчетных данных;
3)	Осуществление ввода данных пользователем;
4)	Осуществление расчета по математической модели, которая описана выше;
5)	Вывод результата на экран.  

## Вывод программы  
После запуска программы в консоли появляются вопросы с выбором ответов:  
![image](https://github.com/ksen322/university-projects/assets/119673458/0b51d978-ef6e-411d-99b5-41246f2c596d)  
![image](https://github.com/ksen322/university-projects/assets/119673458/2c878e73-78ae-49e9-92df-6eca8dd782a2)  
![image](https://github.com/ksen322/university-projects/assets/119673458/5abfef9d-1f58-4f40-99a0-a56406fb4f53)  
![image](https://github.com/ksen322/university-projects/assets/119673458/0b0f9e0d-1de0-4fe6-bd08-e0cc3e4babb1)



